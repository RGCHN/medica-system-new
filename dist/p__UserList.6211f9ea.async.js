(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[313],{93759:function(ee,D,u){"use strict";u.r(D),u.d(D,{default:function(){return Ce}});var L=u(34792),S=u(48086),K=u(3182),k=u(2824),te=u(94043),I=u.n(te),l=u(67294),re=u(67265),Te=u(57663),ne=u(71577),Re=u(9715),ae=u(82482),le=u(21770),oe=u(49101),U=u(22270),ie=u(93130),ue=u(5403),se=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled"],de=["record","position","creatorButtonText","newRecordType","parentKey"];function x(){return x=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},x.apply(this,arguments)}function B(e,r){return me(e)||ve(e,r)||fe(e,r)||ce()}function ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fe(e,r){if(!!e){if(typeof e=="string")return N(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return N(e,r)}}function N(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ve(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],a=!0,s=!1,d,m;try{for(t=t.call(e);!(a=(d=t.next()).done)&&(n.push(d.value),!(r&&n.length===r));a=!0);}catch(v){s=!0,m=v}finally{try{!a&&t.return!=null&&t.return()}finally{if(s)throw m}}return n}}function me(e){if(Array.isArray(e))return e}function W(e,r){if(e==null)return{};var t=ye(e,r),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(r.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(t[n]=e[n]))}return t}function ye(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}function G(e,r,t,n,a,s,d){try{var m=e[s](d),v=m.value}catch(C){t(C);return}m.done?r(v):Promise.resolve(v).then(n,a)}function he(e){return function(){var r=this,t=arguments;return new Promise(function(n,a){var s=e.apply(r,t);function d(v){G(s,n,a,d,m,"next",v)}function m(v){G(s,n,a,d,m,"throw",v)}d(void 0)})}}function H(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function A(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?H(Object(t),!0).forEach(function(n){z(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function z(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var J=l.createContext(void 0);function Q(e){var r=e.children,t=e.record,n=e.position,a=e.newRecordType,s=e.parentKey,d=(0,l.useContext)(J);return l.cloneElement(r,A(A({},r.props),{},{onClick:function(){var m=he(regeneratorRuntime.mark(function C($){var T,R,y,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(T=(R=r.props).onClick)===null||T===void 0?void 0:T.call(R,$);case 2:if(c=o.sent,c!==!1){o.next=5;break}return o.abrupt("return");case 5:d==null||(y=d.current)===null||y===void 0||y.addEditRecord(t,{position:n,newRecordType:a,parentKey:s});case 6:case"end":return o.stop()}},C)}));function v(C){return m.apply(this,arguments)}return v}()}))}function X(e){var r,t=e.onTableChange,n=e.maxLength,a=e.formItemProps,s=e.recordCreatorProps,d=e.rowKey,m=e.controlled,v=W(e,se),C=(0,l.useRef)(),$=ae.Z.useForm(),T=B($,1),R=T[0];(0,l.useImperativeHandle)(v.actionRef,function(){return C.current});var y=(0,le.Z)(function(){return e.value||[]},{value:e.value,onChange:e.onChange}),c=B(y,2),i=c[0],o=c[1],h=l.useMemo(function(){return typeof d=="function"&&d?d:function(P,b){return P[d]||b}},[d]);(0,l.useEffect)(function(){!e.controlled||i.forEach(function(P,b){R.setFieldsValue(z({},h(P,b),P))},{})},[i,e.controlled]);var f=s||{},g=f.record,w=f.position,j=f.creatorButtonText,we=f.newRecordType,Pe=f.parentKey,Ee=W(f,de),q=w==="top",V=(0,l.useMemo)(function(){return n&&n<=(i==null?void 0:i.length)?!1:s!==!1&&l.createElement(Q,{record:(0,U.h)(g,i==null?void 0:i.length,i)||{},position:w,parentKey:(0,U.h)(Pe,i==null?void 0:i.length,i),newRecordType:we},l.createElement(ne.Z,x({type:"dashed",style:{display:"block",margin:"10px 0",width:"100%"},icon:l.createElement(oe.Z,null)},Ee),j||"\u6DFB\u52A0\u4E00\u884C\u6570\u636E"))},[s,n,i==null?void 0:i.length]),Oe=(0,l.useMemo)(function(){return V?q?{components:{header:{wrapper:function(b){var p,E=b.className,O=b.children;return l.createElement("thead",{className:E},O,l.createElement("tr",{style:{position:"relative"}},l.createElement("td",{colSpan:0,style:{visibility:"hidden"}},V),l.createElement("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(p=v.columns)===null||p===void 0?void 0:p.length},V)))}}}}:{tableViewRender:function(b,p){var E,O;return l.createElement(l.Fragment,null,(E=(O=e.tableViewRender)===null||O===void 0?void 0:O.call(e,b,p))!==null&&E!==void 0?E:p,V)}}:{}},[q,V]),_=A({form:R},e.editable);return((e==null?void 0:e.onValuesChange)||((r=e.editable)===null||r===void 0?void 0:r.onValuesChange)||e.controlled&&(e==null?void 0:e.onChange))&&(_.onValuesChange=function(P,b){var p,E,O;if((p=e.editable)===null||p===void 0||(E=p.onValuesChange)===null||E===void 0||E.call(p,P,b),(O=e.onValuesChange)===null||O===void 0||O.call(e,b,P),e.controlled){var F;e==null||(F=e.onChange)===null||F===void 0||F.call(e,b)}}),l.createElement(J.Provider,{value:C},l.createElement(ue.Z,x({search:!1,options:!1,pagination:!1,rowKey:d},v,Oe,{tableLayout:"fixed",actionRef:C,onChange:t,dataSource:i,editable:_,onDataSourceChange:o})))}function Y(e){var r=e.name,t=e.formItemProps;return r?l.createElement(ie.gN,x({shouldUpdate:!0,name:e.name},t,{isList:!0}),function(n){return l.createElement(X,x({controlled:!0},e,{value:n.value,onChange:n.onChange}))}):l.createElement(X,e)}Y.RecordCreator=Q;var ge=Y,M=u(64172),be=u(29364),Z=u(85893),pe=function(){var r=(0,l.useState)([]),t=(0,k.Z)(r,2),n=t[0],a=t[1],s=(0,l.useState)([]),d=(0,k.Z)(s,2),m=d[0],v=d[1],C=[{title:"ID",dataIndex:"id",key:"id",editable:!1},{title:"\u59D3\u540D",dataIndex:"name",key:"name",editable:!1},{title:"\u6743\u9650",dataIndex:"role",key:"role",valueType:"select",valueEnum:{\u7BA1\u7406\u5458:{text:"\u7BA1\u7406\u5458",status:"Processing"},\u4E3B\u4EFB\u533B\u751F:{text:"\u4E3B\u4EFB\u533B\u751F",status:"Success"},\u533B\u751F:{text:"\u533B\u751F",status:"Warning"}}},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(c,i,o,h){return[(0,Z.jsx)("a",{onClick:function(){var g;h==null||(g=h.startEditable)===null||g===void 0||g.call(h,i.id)},children:"\u4FEE\u6539\u6743\u9650"},"editable"),(0,Z.jsx)("a",{onClick:function(){T(o,i)},children:"\u5220\u9664"},"delete")]}}],$=(0,l.useCallback)(function(){var y=(0,K.Z)(I().mark(function c(i,o){var h,f,g;return I().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return h=o.id,f=o.role,j.next=3,(0,M.ul)({userID:h,role:be.Zv[f]});case 3:g=j.sent,g.data.status==="success"?(a(g.data.data.userInfo),S.default.success(g.data.msg)):S.default.error(g.data.msg);case 5:case"end":return j.stop()}},c)}));return function(c,i){return y.apply(this,arguments)}}(),[]),T=(0,l.useCallback)(function(){var y=(0,K.Z)(I().mark(function c(i,o){var h,f;return I().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return h=o.id,w.next=3,(0,M.h8)({userID:h});case 3:f=w.sent,f.data.status==="success"?(a(f.data.data.userInfo),S.default.success(f.data.msg)):S.default.error(f.data.msg);case 5:case"end":return w.stop()}},c)}));return function(c,i){return y.apply(this,arguments)}}(),[]),R=(0,l.useCallback)((0,K.Z)(I().mark(function y(){var c;return I().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,M.lE)();case 3:if(c=o.sent,c.data.status!=="success"){o.next=7;break}return a(c.data.data.userInfo),o.abrupt("return");case 7:S.default.error(c.data.msg),a([]),o.next=14;break;case 11:o.prev=11,o.t0=o.catch(0),a([]);case 14:case"end":return o.stop()}},y,null,[[0,11]])})),[]);return(0,l.useEffect)(function(){R()},[]),(0,Z.jsx)(re.ZP,{children:(0,Z.jsx)(ge,{rowKey:"id",columns:C,value:n,onChange:a,recordCreatorProps:!1,editable:{type:"single",editableKeys:m,onChange:v,onDelete:T,onSave:$}})})},Ce=pe},29364:function(ee,D,u){"use strict";u.d(D,{_k:function(){return L},Zv:function(){return K}});var L={0:"\u5929",1:"\u4E00",2:"\u4E8C",3:"\u4E09",4:"\u56DB",5:"\u4E94",6:"\u516D"},S={"1":"0-6\u5C0F\u65F6","2":"6-24\u5C0F\u65F6","3":"24\u5C0F\u65F6-2\u5468","4":"\u5927\u4E8E2\u5468"},K={\u7BA1\u7406\u5458:1,\u4E3B\u4EFB\u533B\u751F:2,\u533B\u751F:3}}}]);
