(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[313],{93759:function(re,Z,i){"use strict";i.r(Z),i.d(Z,{default:function(){return Pe}});var U=i(34792),K=i(48086),$=i(3182),B=i(2824),ne=i(94043),x=i.n(ne),o=i(67294),ae=i(67265),Re=i(57663),le=i(71577),je=i(9715),oe=i(82482),ie=i(21770),ue=i(49101),N=i(22270),se=i(93130),de=i(5403),ce=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled"],fe=["record","position","creatorButtonText","newRecordType","parentKey"];function I(){return I=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},I.apply(this,arguments)}function W(e,r){return he(e)||ye(e,r)||me(e,r)||ve()}function ve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function me(e,r){if(!!e){if(typeof e=="string")return G(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return G(e,r)}}function G(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ye(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],a=!0,u=!1,s,y;try{for(t=t.call(e);!(a=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));a=!0);}catch(v){u=!0,y=v}finally{try{!a&&t.return!=null&&t.return()}finally{if(u)throw y}}return n}}function he(e){if(Array.isArray(e))return e}function H(e,r){if(e==null)return{};var t=ge(e,r),n,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(a=0;a<u.length;a++)n=u[a],!(r.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(t[n]=e[n]))}return t}function ge(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,u;for(u=0;u<n.length;u++)a=n[u],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}function Y(e,r,t,n,a,u,s){try{var y=e[u](s),v=y.value}catch(b){t(b);return}y.done?r(v):Promise.resolve(v).then(n,a)}function be(e){return function(){var r=this,t=arguments;return new Promise(function(n,a){var u=e.apply(r,t);function s(v){Y(u,n,a,s,y,"next",v)}function y(v){Y(u,n,a,s,y,"throw",v)}s(void 0)})}}function z(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function F(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?z(Object(t),!0).forEach(function(n){J(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function J(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Q=o.createContext(void 0);function X(e){var r=e.children,t=e.record,n=e.position,a=e.newRecordType,u=e.parentKey,s=(0,o.useContext)(Q);return o.cloneElement(r,F(F({},r.props),{},{onClick:function(){var y=be(regeneratorRuntime.mark(function b(M){var R,O,j,h;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(R=(O=r.props).onClick)===null||R===void 0?void 0:R.call(O,M);case 2:if(h=c.sent,h!==!1){c.next=5;break}return c.abrupt("return");case 5:s==null||(j=s.current)===null||j===void 0||j.addEditRecord(t,{position:n,newRecordType:a,parentKey:u});case 6:case"end":return c.stop()}},b)}));function v(b){return y.apply(this,arguments)}return v}()}))}function q(e){var r,t=e.onTableChange,n=e.maxLength,a=e.formItemProps,u=e.recordCreatorProps,s=e.rowKey,y=e.controlled,v=H(e,ce),b=(0,o.useRef)(),M=oe.Z.useForm(),R=W(M,1),O=R[0];(0,o.useImperativeHandle)(v.actionRef,function(){return b.current});var j=(0,ie.Z)(function(){return e.value||[]},{value:e.value,onChange:e.onChange}),h=W(j,2),l=h[0],c=h[1],d=o.useMemo(function(){return typeof s=="function"&&s?s:function(w,g){return w[s]||g}},[s]);(0,o.useEffect)(function(){!e.controlled||l.forEach(function(w,g){O.setFieldsValue(J({},d(w,g),w))},{})},[l,e.controlled]);var f=u||{},C=f.record,m=f.position,V=f.creatorButtonText,T=f.newRecordType,S=f.parentKey,Oe=H(f,fe),ee=m==="top",D=(0,o.useMemo)(function(){return n&&n<=(l==null?void 0:l.length)?!1:u!==!1&&o.createElement(X,{record:(0,N.h)(C,l==null?void 0:l.length,l)||{},position:m,parentKey:(0,N.h)(S,l==null?void 0:l.length,l),newRecordType:T},o.createElement(le.Z,I({type:"dashed",style:{display:"block",margin:"10px 0",width:"100%"},icon:o.createElement(ue.Z,null)},Oe),V||"\u6DFB\u52A0\u4E00\u884C\u6570\u636E"))},[u,n,l==null?void 0:l.length]),Te=(0,o.useMemo)(function(){return D?ee?{components:{header:{wrapper:function(g){var p,E=g.className,P=g.children;return o.createElement("thead",{className:E},P,o.createElement("tr",{style:{position:"relative"}},o.createElement("td",{colSpan:0,style:{visibility:"hidden"}},D),o.createElement("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(p=v.columns)===null||p===void 0?void 0:p.length},D)))}}}}:{tableViewRender:function(g,p){var E,P;return o.createElement(o.Fragment,null,(E=(P=e.tableViewRender)===null||P===void 0?void 0:P.call(e,g,p))!==null&&E!==void 0?E:p,D)}}:{}},[ee,D]),te=F({form:O},e.editable);return((e==null?void 0:e.onValuesChange)||((r=e.editable)===null||r===void 0?void 0:r.onValuesChange)||e.controlled&&(e==null?void 0:e.onChange))&&(te.onValuesChange=function(w,g){var p,E,P;if((p=e.editable)===null||p===void 0||(E=p.onValuesChange)===null||E===void 0||E.call(p,w,g),(P=e.onValuesChange)===null||P===void 0||P.call(e,g,w),e.controlled){var k;e==null||(k=e.onChange)===null||k===void 0||k.call(e,g)}}),o.createElement(Q.Provider,{value:b},o.createElement(de.Z,I({search:!1,options:!1,pagination:!1,rowKey:s},v,Te,{tableLayout:"fixed",actionRef:b,onChange:t,dataSource:l,editable:te,onDataSourceChange:c})))}function _(e){var r=e.name,t=e.formItemProps;return r?o.createElement(se.gN,I({shouldUpdate:!0,name:e.name},t,{isList:!0}),function(n){return o.createElement(q,I({controlled:!0},e,{value:n.value,onChange:n.onChange}))}):o.createElement(q,e)}_.RecordCreator=X;var pe=_,L=i(64172),Ce=i(29364),we=i(21010),A=i(85893),Ee=function(){var r=(0,o.useState)([]),t=(0,B.Z)(r,2),n=t[0],a=t[1],u=(0,o.useState)([]),s=(0,B.Z)(u,2),y=s[0],v=s[1],b=(0,we.YB)(),M=[{title:"ID",dataIndex:"id",key:"id",editable:!1},{title:"\u59D3\u540D",dataIndex:"name",key:"name",editable:!1},{title:"\u6743\u9650",dataIndex:"role",key:"role",valueType:"select",valueEnum:{\u7BA1\u7406\u5458:{text:"\u7BA1\u7406\u5458",status:"Processing"},\u4E3B\u4EFB\u533B\u751F:{text:"\u4E3B\u4EFB\u533B\u751F",status:"Success"},\u533B\u751F:{text:"\u533B\u751F",status:"Warning"}}},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(l,c,d,f){return[(0,A.jsx)("a",{onClick:function(){var m;f==null||(m=f.startEditable)===null||m===void 0||m.call(f,c.id)},children:"\u4FEE\u6539\u6743\u9650"},"editable"),(0,A.jsx)("a",{onClick:function(){O(d,c)},children:"\u5220\u9664"},"delete")]}}],R=(0,o.useCallback)(function(){var h=(0,$.Z)(x().mark(function l(c,d){var f,C,m,V;return x().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return f=d.id,C=d.role,S.next=3,(0,L.ul)({userID:f,role:Ce.Zv[C]});case 3:m=S.sent,m.data.status==="success"?(a(m.data.data.userInfo),K.default.success(m.data.msg)):(V=b.formatMessage({id:"app.error.network",defaultMessage:"\u7F51\u7EDC\u8FDE\u63A5\u9519\u8BEF\uFF01"}),K.default.error(V));case 5:case"end":return S.stop()}},l)}));return function(l,c){return h.apply(this,arguments)}}(),[]),O=(0,o.useCallback)(function(){var h=(0,$.Z)(x().mark(function l(c,d){var f,C,m;return x().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return f=d.id,T.next=3,(0,L.h8)({userID:f});case 3:C=T.sent,C.data.status==="success"?a(C.data.data.userInfo):(m=b.formatMessage({id:"app.error.network",defaultMessage:"\u7F51\u7EDC\u8FDE\u63A5\u9519\u8BEF\uFF01"}),K.default.error(m));case 5:case"end":return T.stop()}},l)}));return function(l,c){return h.apply(this,arguments)}}(),[]),j=(0,o.useCallback)((0,$.Z)(x().mark(function h(){var l;return x().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,(0,L.lE)();case 3:if(l=d.sent,l.data.status!=="success"){d.next=7;break}return a(l.data.data.userInfo),d.abrupt("return");case 7:K.default.error(l.data.msg),a([]),d.next=14;break;case 11:d.prev=11,d.t0=d.catch(0),a([]);case 14:case"end":return d.stop()}},h,null,[[0,11]])})),[]);return(0,o.useEffect)(function(){j()},[]),(0,A.jsx)(ae.ZP,{children:(0,A.jsx)(pe,{rowKey:"id",columns:M,value:n,onChange:a,recordCreatorProps:!1,search:!0,editable:{type:"single",editableKeys:y,onChange:v,onDelete:O,onSave:R}})})},Pe=Ee},29364:function(re,Z,i){"use strict";i.d(Z,{_k:function(){return U},Zv:function(){return $}});var U={0:"\u5929",1:"\u4E00",2:"\u4E8C",3:"\u4E09",4:"\u56DB",5:"\u4E94",6:"\u516D"},K={"1":"0-6\u5C0F\u65F6","2":"6-24\u5C0F\u65F6","3":"24\u5C0F\u65F6-2\u5468","4":"\u5927\u4E8E2\u5468"},$={\u7BA1\u7406\u5458:1,\u4E3B\u4EFB\u533B\u751F:2,\u533B\u751F:3}}}]);
