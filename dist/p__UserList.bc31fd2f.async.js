(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[313],{93759:function(j,h,a){"use strict";a.r(h),a.d(h,{default:function(){return ie}});var m=a(34792),w=a(48086),R=a(3182),Z=a(2824),F=a(94043),_=a.n(F),o=a(67294),N=a(67265),se=a(57663),H=a(71577),G=a(21770),Y=a(49101),z=a(29111),J=a(31472);function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x.apply(this,arguments)}function Q(e,t){return te(e)||ee(e,t)||q(e,t)||X()}function X(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q(e,t){if(!!e){if(typeof e=="string")return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K(e,t)}}function K(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ee(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,l=!1,i=void 0;try{for(var g=e[Symbol.iterator](),P;!(n=(P=g.next()).done)&&(r.push(P.value),!(t&&r.length===t));n=!0);}catch(b){l=!0,i=b}finally{try{!n&&g.return!=null&&g.return()}finally{if(l)throw i}}return r}}function te(e){if(Array.isArray(e))return e}function U(e,t){if(e==null)return{};var r=re(e,t),n,l;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)n=i[l],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function re(e,t){if(e==null)return{};var r={},n=Object.keys(e),l,i;for(i=0;i<n.length;i++)l=n[i],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B(Object(r),!0).forEach(function(n){ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k=o.createContext(void 0);function V(e){var t=e.children,r=e.record,n=e.position,l=e.newRecordType,i=(0,o.useContext)(k);return o.cloneElement(t,I(I({},t.props),{},{onClick:function(P){var b,v,D;i==null||(b=i.current)===null||b===void 0||b.addEditRecord(r,{position:n,newRecordType:l}),(v=(D=t.props).onClick)===null||v===void 0||v.call(D,P)}}))}function W(e){var t,r=e.onTableChange,n=e.maxLength,l=e.recordCreatorProps,i=U(e,["onTableChange","maxLength","recordCreatorProps"]),g=(0,o.useRef)();(0,o.useImperativeHandle)(i.actionRef,function(){return g.current},[g.current]);var P=(0,G.Z)(function(){return e.value||[]},{value:e.value,onChange:e.onChange}),b=Q(P,2),v=b[0],D=b[1],M=l||{},A=M.record,L=M.position,T=M.creatorButtonText,p=M.newRecordType,O=U(M,["record","position","creatorButtonText","newRecordType"]),u=L==="top",c=(0,o.useMemo)(function(){return n&&n<=(v==null?void 0:v.length)?!1:l!==!1&&o.createElement(V,{record:(0,z.h)(A,v.length)||{},position:L,newRecordType:p},o.createElement(H.Z,x({type:"dashed",style:{display:"block",margin:"10px 0",width:"100%"},icon:o.createElement(Y.Z,null)},O),T||"\u6DFB\u52A0\u4E00\u884C\u6570\u636E"))},[l,n,v.length]),E=(0,o.useMemo)(function(){return c?u?{components:{header:{wrapper:function(y){var s,f=y.className,C=y.children;return o.createElement("thead",{className:f},C,o.createElement("tr",null,o.createElement("td",{colSpan:(s=i.columns)===null||s===void 0?void 0:s.length},c)))}}}}:{tableViewRender:function(y,s){var f,C;return o.createElement(o.Fragment,null,(f=(C=e.tableViewRender)===null||C===void 0?void 0:C.call(e,y,s))!==null&&f!==void 0?f:s,c)}}:{}},[u,c]);return o.createElement(k.Provider,{value:g},o.createElement(J.Z,x({search:!1,options:!1,pagination:!1},i,E,{tableLayout:"fixed",actionRef:g,onChange:r,dataSource:v,editable:I(I({},e.editable),{},{onValuesChange:(e==null?void 0:e.onValuesChange)||((t=e.editable)===null||t===void 0?void 0:t.onValuesChange)?function(d,y){var s,f,C;(s=e.editable)===null||s===void 0||(f=s.onValuesChange)===null||f===void 0||f.call(s,d,y),(C=e.onValuesChange)===null||C===void 0||C.call(e,y,d)}:void 0}),onDataSourceChange:D})))}W.RecordCreator=V;var ae=W,$=a(64172),le=a(29364),oe=a(21010),S=a(85893),ue=function(){var t=(0,o.useState)([]),r=(0,Z.Z)(t,2),n=r[0],l=r[1],i=(0,o.useState)([]),g=(0,Z.Z)(i,2),P=g[0],b=g[1],v=(0,oe.YB)(),D=[{title:"ID",dataIndex:"id",key:"id",editable:!1},{title:"\u59D3\u540D",dataIndex:"name",key:"name",editable:!1},{title:"\u6743\u9650",dataIndex:"role",key:"role",valueType:"select",valueEnum:{\u7BA1\u7406\u5458:{text:"\u7BA1\u7406\u5458",status:"Processing"},\u4E3B\u4EFB\u533B\u751F:{text:"\u4E3B\u4EFB\u533B\u751F",status:"Success"},\u533B\u751F:{text:"\u533B\u751F",status:"Warning"}}},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(p,O,u,c){return[(0,S.jsx)("a",{onClick:function(){var d;c==null||(d=c.startEditable)===null||d===void 0||d.call(c,O.id)},children:"\u4FEE\u6539\u6743\u9650"},"editable"),(0,S.jsx)("a",{onClick:function(){A(u,O)},children:"\u5220\u9664"},"delete")]}}],M=(0,o.useCallback)(function(){var T=(0,R.Z)(_().mark(function p(O,u){var c,E,d,y;return _().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return c=u.id,E=u.role,f.next=3,(0,$.ul)({userID:c,role:le.Zv[E]});case 3:d=f.sent,d.data.status==="success"?(l(d.data.data.userInfo),w.default.success(d.data.msg)):(y=v.formatMessage({id:"app.error.network",defaultMessage:"\u7F51\u7EDC\u8FDE\u63A5\u9519\u8BEF\uFF01"}),w.default.error(y));case 5:case"end":return f.stop()}},p)}));return function(p,O){return T.apply(this,arguments)}}(),[]),A=(0,o.useCallback)(function(){var T=(0,R.Z)(_().mark(function p(O,u){var c,E,d;return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return c=u.id,s.next=3,(0,$.h8)({userID:c});case 3:E=s.sent,E.data.status==="success"?l(E.data.data.userInfo):(d=v.formatMessage({id:"app.error.network",defaultMessage:"\u7F51\u7EDC\u8FDE\u63A5\u9519\u8BEF\uFF01"}),w.default.error(d));case 5:case"end":return s.stop()}},p)}));return function(p,O){return T.apply(this,arguments)}}(),[]),L=(0,o.useCallback)((0,R.Z)(_().mark(function T(){var p;return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,(0,$.lE)();case 3:if(p=u.sent,p.data.status!=="success"){u.next=7;break}return l(p.data.data.userInfo),u.abrupt("return");case 7:w.default.error(p.data.msg),l([]),u.next=14;break;case 11:u.prev=11,u.t0=u.catch(0),l([]);case 14:case"end":return u.stop()}},T,null,[[0,11]])})),[]);return(0,o.useEffect)(function(){L()},[]),(0,S.jsx)(N.ZP,{children:(0,S.jsx)(ae,{rowKey:"id",columns:D,value:n,onChange:l,recordCreatorProps:!1,search:!0,editable:{type:"single",editableKeys:P,onChange:b,onDelete:A,onSave:M}})})},ie=ue},29364:function(j,h,a){"use strict";a.d(h,{_k:function(){return m},Zv:function(){return R}});var m={0:"\u5929",1:"\u4E00",2:"\u4E8C",3:"\u4E09",4:"\u56DB",5:"\u4E94",6:"\u516D"},w={"1":"0-6\u5C0F\u65F6","2":"6-24\u5C0F\u65F6","3":"24\u5C0F\u65F6-2\u5468","4":"\u5927\u4E8E2\u5468"},R={\u7BA1\u7406\u5458:1,\u4E3B\u4EFB\u533B\u751F:2,\u533B\u751F:3}},15746:function(j,h,a){"use strict";var m=a(21584);h.Z=m.Z},89032:function(j,h,a){"use strict";var m=a(65056),w=a.n(m),R=a(6999)},71230:function(j,h,a){"use strict";var m=a(92820);h.Z=m.Z},13062:function(j,h,a){"use strict";var m=a(65056),w=a.n(m),R=a(6999)}}]);
